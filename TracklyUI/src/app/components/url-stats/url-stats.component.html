<div class="container">
  <div class="main-header">
    <h1>Url stats</h1>
  </div>
  <div class="spinner-container" *ngIf="isUrlVisitsByIpAddressLoading && isUrlVisitsByCountryLoading">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
  <div class="content" *ngIf="!isUrlVisitsByIpAddressLoading || !isUrlVisitsByCountryLoading">
    <mat-card *ngIf="!isUrlVisitsByIpAddressLoading">
      <mat-card-header>
        <mat-card-title>Visits by IP address</mat-card-title>
      </mat-card-header>
      <mat-card-content class="spinner-container" *ngIf="isUrlVisitsByIpAddressLoading">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
      </mat-card-content>
      <mat-card-content *ngIf="!isUrlVisitsByIpAddressLoading && isIpAddressError">
        <p>Error, can't build chart</p>
      </mat-card-content>
      <mat-card-content *ngIf="!isUrlVisitsByIpAddressLoading && !isIpAddressError">
        <app-pie-chart
          chartId="VisitsByIpAddressChart"
          [chartOptions]="visitsByIpAddressChartOptions">
        </app-pie-chart>
      </mat-card-content>

    </mat-card>
    <mat-card *ngIf="!isUrlVisitsByCountryLoading">
      <mat-card-header>
        <mat-card-title>Visits by country</mat-card-title>
      </mat-card-header>
      <mat-card-content class="spinner-container" *ngIf="isUrlVisitsByCountryLoading">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
      </mat-card-content>
      <mat-card-content *ngIf="!isUrlVisitsByCountryLoading && isCountryError">
        <p>Error, can't build chart</p>
      </mat-card-content>
      <mat-card-content *ngIf="!isUrlVisitsByCountryLoading && !isCountryError">
        <app-pie-chart
          chartId="VisitsByCountryChart"
          [chartOptions]="visitsByCountryChartOptions">
        </app-pie-chart>
      </mat-card-content>
    </mat-card>
  </div>
</div>
